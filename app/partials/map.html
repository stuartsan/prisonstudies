<div id="map">
	<div class="controls">
		<span>Compare countries by:</span>
		<select type="text" 
				ng-model="display.dimension" 
				ng-options="k as v.label for (k, v) in display.dimensions">
		</select>
		<span ng-show="{{currentCountry !== null}}"> {{hash[currentCountry].name}}: {{hash[currentCountry][display.dimension]}}</span>
	</div>
	<div class="legend">
		<li class="thresholds" ng-show="k==display.dimension" ng-repeat="(k,v) in display.dimensions">
			<div class="threshold" ng-repeat="num in v.thresholds">
				<span class="num">&lt; {{num | fmtInt}}</span>
				<span class="{{'q'+$index + ' box'}}"></span>
			</div>
			<div class="threshold">
				<span class="num">Not available</span>
				<span class="na box"></span>
			</div>
		</li>
	</div>
	<choropleth dimension="display.dimension"
			    ready="hash.$resolved"
				hash="hash"
				current-country="currentCountry">
	</choropleth>
</div>